
# coding: utf-8

# # 3-second violation

# In[1]:


#Import dependencies
import pandas as pd
import matplotlib.pyplot as plt


# In[2]:


#Upload basketball data HTML
basketball_data = pd.read_html("https://www.basketball-reference.com/leagues/NBA_stats.html")


# In[3]:


len(basketball_data)


# In[5]:


#Clean data by removing unnecessary rows and headers
df = basketball_data[0]
df.columns = df.columns.droplevel()
df_clean = df.drop(df.index[[20, 21, 42, 43, 64, 65]])
df_clean.head()


# In[23]:


#Convert data to numbers
df_clean['PTS'] = pd.to_numeric(df_clean['PTS'])


# In[28]:


#Create Parameters for points/season graph
points_3_second = df_clean.iloc[8:25, 22]
season_3_second = df_clean.iloc[8:25, 1]


# In[32]:


#Construct graph plotting "points" on Y-axis and "Seasons" on X-axis
fig, ax = plt.subplots(figsize=(20,10))
plt.plot(season_3_second, points_3_second, 'go--', linewidth=2, markersize=12)
#Title name and axis labels
plt.title("Points Before and After 3-Second violation", fontsize=20)
plt.ylabel("Points", fontsize=20)
plt.xlabel("Season", fontsize=20)
#create gridlines and insert line to signify implementation of rulechange
plt.ylim((50,120))
plt.grid(True)
plt.vlines('2000-01', 0, 120)
plt.tick_params(labelsize = 12)


# Conclusion: The graph above clearly shows that the implementaiton of the 3-second violation did not have an effect on average points scored per game per season. 
